<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Archives on Discovery notebook</title><link>https://fljd.in/en/archives/</link><description>Recent content in Archives on Discovery notebook</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>Florent Jardin</managingEditor><lastBuildDate>Tue, 17 Dec 2024 14:00:00 +0200</lastBuildDate><atom:link href="https://fljd.in/en/archives/index.xml" rel="self" type="application/rss+xml"/><item><title>Window functions to the rescue</title><link>https://fljd.in/en/2024/12/17/window-functions-to-the-rescue/</link><pubDate>Tue, 17 Dec 2024 14:00:00 +0200</pubDate><author>Florent Jardin</author><guid>https://fljd.in/en/2024/12/17/window-functions-to-the-rescue/</guid><description>&lt;p>PostgreSQL comes with a variety of functions that allow you to group rows into a
&amp;ldquo;window&amp;rdquo; and perform calculations on that window. By using these functions, you
can create more advanced and efficient queries for analyzing your database.&lt;/p>
&lt;p>In early 2023, I contributed to a project that converts data models to
PostgreSQL, called &lt;a href="https://github.com/cybertec-postgresql/db_migrator" target="_blank" rel="noopener">db_migrator&lt;/a>. On this occasion, I (re)discovered the
power of these &lt;a href="https://www.postgresql.org/docs/current/functions-window.html" target="_blank" rel="noopener">window functions&lt;/a> with the SQL language. In this article, I
revisit a &lt;a href="https://github.com/cybertec-postgresql/db_migrator/pull/11" target="_blank" rel="noopener">specific case&lt;/a> of transforming the upper bounds of a partitioned
table into an array of boundaries.&lt;/p></description></item><item><title>Substituting a variable in a SQL script</title><link>https://fljd.in/en/2024/11/25/substituting-a-variable-in-a-sql-script/</link><pubDate>Mon, 25 Nov 2024 09:00:00 +0100</pubDate><author>Florent Jardin</author><guid>https://fljd.in/en/2024/11/25/substituting-a-variable-in-a-sql-script/</guid><description>&lt;p>In a world where we constantly seek to automate repetitive tasks, it is common
to write down a query in a script, make it more convenient, and eventually
integrate the whole thing into a project&amp;rsquo;s codebase. Tools like SQL*Plus and
psql can be powerful allies in this game, as relevant as Bash or Python
interpreters.&lt;/p>
&lt;p>In several projects I have been involved in, I have come across a large number
of those kinds of scripts. Some of them have the particularity of offering input
parameters, processed by SQL*Plus with the very comfortable mechanism named
variable substitution. In this article, I share some tips to convert them to an
equivalent syntax that PostgreSQL&amp;rsquo;s psql tool can parse and manage.&lt;/p></description></item><item><title>Hierarchical data types</title><link>https://fljd.in/en/2024/09/19/hierarchical-data-types/</link><pubDate>Thu, 19 Sep 2024 13:20:00 +0200</pubDate><author>Florent Jardin</author><guid>https://fljd.in/en/2024/09/19/hierarchical-data-types/</guid><description>&lt;p>The SQL standard defines a set of rules so that database systems can be interchangeable,
but there are small singularities in the wild. In this regard, the &lt;code>hierarchyid&lt;/code> data type
provided by SQL Server is a striking example. If you are switching to PostgreSQL, two
solutions are available to you.&lt;/p>
&lt;p>A first and simpler solution consists in linking each node to its parent using a new
&lt;code>parentid&lt;/code> column and applying a foreign key constraint. Another, more complete approach
consists in using the &lt;code>ltree&lt;/code> extension. This article deals with the latter case.&lt;/p></description></item><item><title>How to keep a community alive</title><link>https://fljd.in/en/2024/07/30/how-to-keep-a-community-alive/</link><pubDate>Tue, 30 Jul 2024 09:30:00 +0000</pubDate><author>Florent Jardin</author><guid>https://fljd.in/en/2024/07/30/how-to-keep-a-community-alive/</guid><description>&lt;p>The &lt;a href="https://pgday.fr/" target="_blank" rel="noopener">PG Day France&lt;/a> took place on June 11th and 12th in Lille, my hometown.
It is the event of the French PostgreSQL community that settles in a different city each year.
The opportunity was too good for me and I met many people from all over France and its surroundings,
to discuss PostgreSQL during two days of workshops and conferences.&lt;/p>
&lt;p>For this edition, I had the pleasure of speaking and sharing my experience on the animation of
the local Meetup group that I took over four years ago. In this article, I want to write down the
main points discussed during this presentation, while waiting for the video of the conference to be
posted online.&lt;/p></description></item><item><title>An assistant to copy data from a remote server</title><link>https://fljd.in/en/2024/05/28/an-assistant-to-copy-data-from-a-remote-server/</link><pubDate>Tue, 28 May 2024 00:00:00 +0000</pubDate><author>Florent Jardin</author><guid>https://fljd.in/en/2024/05/28/an-assistant-to-copy-data-from-a-remote-server/</guid><description>&lt;p>During the last PGSession organized by Dalibo, I wrote and led a &lt;a href="https://dali.bo/wsfdw_html" target="_blank" rel="noopener">workshop&lt;/a>
(french) on the migration to PostgreSQL using Foreign Data Wrappers, or FDW.
This was an opportunity to present to the general public the &lt;a href="https://github.com/cybertec-postgresql/db_migrator" target="_blank" rel="noopener">&lt;code>db_migrator&lt;/code>&lt;/a>
extension for which I wrote an &lt;a href="https://fljd.in/en/2023/07/28/on-the-road-to-freedom-with-db_migrator/">article&lt;/a> on this blog.&lt;/p>
&lt;p>While working on this workshop, we noticed that copying data with the
&lt;code>db_migrator&lt;/code> extension is not perfectly supported. Indeed, although there is a
low-level function to distribute the transfer table by table over several
processes, many situations will require writing a large number of SQL queries to
get out of trouble. Over the following months, I worked on the design of an
&lt;a href="https://github.com/fljdin/fdw-assistant" target="_blank" rel="noopener">assistant&lt;/a> written in PL/pgSQL whose purpose is to simplify the generation
of these queries.&lt;/p></description></item></channel></rss>